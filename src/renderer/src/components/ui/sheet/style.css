@import url('../../../assets/reset.css');

:host {
  display: contents;
}

/* Override dialog base to always fill viewport and align sheet edges */
:host ui-dialog::part(base) {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  pointer-events: none;
}

/* Let dialog control when it is open; we only care about layout */
:host ui-dialog[data-open]::part(base) {
  pointer-events: auto;
}

/* Overlay tweaks stay mostly the same but we can rely on dialog styling */
:host ui-dialog::part(overlay) {
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
}

/* Sheet panel: reuse dialog panel but position against screen edge */
:host ui-dialog::part(panel) {
  position: fixed;
  background: var(--ui-sheet-background, var(--card));
  color: var(--ui-sheet-foreground, var(--card-foreground));
  border: 1px solid var(--ui-sheet-border, var(--border));
  box-shadow: var(--ui-sheet-shadow, 0 20px 60px rgba(0 0 0 / 0.35));
  display: flex;
  flex-direction: column;
  transition:
    transform 0.25s ease,
    opacity 0.2s ease;
  z-index: 1002;
}

/* Horizontal sheets */
:host ui-dialog[data-sheet-side='right']::part(panel),
:host ui-dialog[data-sheet-side='left']::part(panel) {
  height: var(--ui-sheet-height, 100vh);
  width: var(--ui-sheet-width, min(420px, 90vw));
}

:host ui-dialog[data-sheet-side='right']::part(panel) {
  top: 0;
  right: 0;
  transform: translateX(100%);
}

:host ui-dialog[data-sheet-side='left']::part(panel) {
  top: 0;
  left: 0;
  transform: translateX(-100%);
}

/* Vertical sheets */
:host ui-dialog[data-sheet-side='top']::part(panel),
:host ui-dialog[data-sheet-side='bottom']::part(panel) {
  height: var(--ui-sheet-height, min(50vh, 560px));
  width: var(--ui-sheet-width, 100vw);
}

:host ui-dialog[data-sheet-side='top']::part(panel) {
  top: 0;
  left: 0;
  transform: translateY(-100%);
}

:host ui-dialog[data-sheet-side='bottom']::part(panel) {
  bottom: 0;
  left: 0;
  transform: translateY(100%);
}

/* When dialog is open, bring sheet into view */
:host ui-dialog[data-open][data-sheet-side='right']::part(panel),
:host ui-dialog[data-open][data-sheet-side='left']::part(panel),
:host ui-dialog[data-open][data-sheet-side='top']::part(panel),
:host ui-dialog[data-open][data-sheet-side='bottom']::part(panel) {
  transform: translate(0, 0);
}

/* Header/content/footer mostly reuse dialog but allow custom sheet spacing */
:host ui-dialog::part(header) {
  padding: var(--ui-sheet-header-padding, 0.75rem 1rem 0.5rem);
}

:host ui-dialog::part(content) {
  padding: var(--ui-sheet-content-padding, 0.75rem 1rem 0.75rem);
}

:host ui-dialog::part(footer) {
  gap: 0.5rem;
  justify-content: flex-end;
  padding: 0;
  border-top: none;
}

:host ui-dialog::part(footer)[data-has-footer] {
  padding: var(--ui-sheet-footer-padding, 0.75rem 1rem 1rem);
  border-top: 1px solid var(--ui-sheet-border, var(--border));
}

@import url('../../assets/reset.css');

:host {
  display: block;
  width: 100%;
}

.job-item {
  width: 100%;
  display: flex;
  gap: 0.5rem 1rem;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.625rem;
  border-radius: calc(var(--radius) - 4px);
  background: var(--secondary);
  color: var(--secondary-foreground);
  padding: 1rem;
}

.job-meta {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  min-width: 0;
}

/* Thumbnail */
.job-thumb {
  width: 10rem;
  aspect-ratio: 16/9;
  border-radius: inherit;
  overflow: hidden;
  background: color-mix(in oklch, var(--secondary) 70%, var(--foreground));
  display: block;
}

/* Hide thumb only when there's no slotted content AND no default img src */
.job-thumb:not(:has(slot[name='thumbnail']::slotted(*))):not(:has(img[data-el='thumbnail'][src])) {
  display: none;
}
/* Default thumbnail image fill */
.job-thumb__img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@media (max-width: 640px) {
  .job-thumb {
    display: none;
  }
}

.job-title {
  font-weight: 600;
  font-size: 0.95rem;
  margin: 0;
}

.job-controls {
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

:host([data-hide-controls]) .job-controls,
:host([data-hide-controls]) slot[name='controls'] {
  display: none;
}

.job-controls ui-button::part(base) {
  padding-inline: 0.5rem;
}

:host([data-hide-delete-btn]) .job-controls ui-button[data-el='deleteBtn'] {
  display: none;
}

:host([data-hide-pause-btn]) .job-controls ui-button[data-el='pauseBtn'] {
  display: none;
}

:host([data-hide-resume-btn]) .job-controls ui-button[data-el='resumeBtn'] {
  display: none;
}

.progress {
  height: 6px;
  width: 100%;
  background: color-mix(in oklch, var(--secondary) 80%, var(--foreground));
  border-radius: 999px;
  overflow: hidden;
}
:host([data-hide-progress]) .progress,
:host([data-hide-progress]) slot[name='progress'] {
  display: none;
}

.progress > .bar {
  height: 100%;
  width: 0%;
  background: var(--primary);
}
